<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="format-detection" content="address=no" />
    <meta name="format-detection" content="date=no" />
    <title>我的</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../../css/aui.css" />
    <link rel="stylesheet" type="text/css" href="../../css/swiper.min.css" />
    <link rel="stylesheet" type="text/css" href="../../css/base.css" />
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            background: rgba(245, 245, 245, 1);
        }

        .mine_bg {
            width: 100%;
            height: 54vw;
            background: url(../../image/mine/integral_bg.png) no-repeat;
            background-size: cover;
            position: relative;
        }

        .public_header .public_header_text {
            color: #fff;
        }

        .mine_bg .mine_info {
            position: absolute;
            bottom: -0.3rem;
            height: 2.6rem;
            left: 0.75rem;
            right: 0.75rem;
            background: #fff;
            border-radius: 0.2rem 0.2rem 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 0.75rem;
            overflow: hidden;
            border-bottom: 1px solid rgba(237, 237, 240, 1);
        }

        .mine_bg .mine_info .mine_head_portrait {
            width: 1.1rem;
            height: 1.1rem;
            object-fit: cover;
            background: rgba(217, 39, 39, 1);
            border-radius: 0.2rem;
        }

        .mine_bg .mine_info .mine_nickname {
            flex: 1;
            padding: 0 0.4rem;
            font-size: 0.7rem;
            font-family:PingFangSC-Medium,PingFang SC;
  font-weight:500;
  color:rgba(44,53,64,1);
  line-height:1rem;
        }

        .mine_bg .mine_info .mine_info_right {
            width: 0.75rem;
            height: 0.75rem;
        }

        .mine_integral_title {
            padding: 0 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.4rem;
        }

        .mine_integral_title p {
            font-size: 1.7rem;
            font-family: Oswald-Medium, Oswald;
            font-weight: 500;
            color: rgba(255, 255, 255, 1);
            line-height: 2.55rem;
            flex: 1;
        }

        .mine_integral_title span {
            font-size: .6rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: rgba(255, 255, 255, 1);
            line-height: .85rem;
            margin-right: 0.05rem
        }

        .mine_integral_title img {
            width: 0.6rem;
            height: 0.6rem;
        }

        .mine_integral {
            padding: 0 0.75rem 0.75rem 0.75rem;

        }

        .mine_integral_list {
            padding: 0 0.75rem;
            background: #fff;
            border-radius:0 0 0.2rem 0.2rem;
        }

        .mine_integral_list_title  {

            height: 2.75rem;
            font-size: 0.75rem;
            line-height: 3rem;
            font-family: PingFangSC-Semibold, PingFang SC;
            font-weight: 600;
            color: rgba(44, 53, 64, 1);

            text-align: left;
            border-bottom: 1px solid rgba(237, 237, 240, 1);
        }

        .mine_integral_item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(237, 237, 240, 1);
            font-size: .55rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: rgba(44, 53, 64, 1);
            line-height: .8rem;
        }

        .mine_integral_item h3 {
            font-size: .7rem;
            color: rgba(44, 53, 64, 1);
            line-height: 1rem;
        }

        .mine_integral_item p {
            font-size: .6rem;
            color: rgba(151, 158, 166, 1);
            line-height: 0.85rem;
        }

        .speed_progress {
            position: relative;
            display: inline-block;
            width: 9.5rem;
            height: .32rem;
            font-size: 0.6rem;
            background: rgba(237, 237, 237, 1);
            border-radius: .16rem;
        }

        .speed_progress span {
            position: absolute;
            top: 0;
            left: 0;
            height: .32rem;
            overflow: hidden;
            background: rgba(217, 39, 39, 1);
            border-radius: .16rem;
            white-space: nowrap;
            z-index: 2;
        }

        .integral_btn {
            width: 3.52rem;
            height: 1.33rem;
            border-radius: .69rem;
            border: 1px solid rgba(151, 158, 166, 1);
            font-size: .64rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: rgba(151, 158, 166, 1);
            line-height: 1.1rem;
            text-align: center;
            padding: 0.1rem 0.3rem;
        }

        .integral_btn_not {
            width: 3.3rem;
            min-width: 3.3rem;
            height: 1.25rem;
            border-radius: .65rem;
            border: 0.5px solid rgba(217, 39, 39, 1);
            font-size: .6rem;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: rgba(217, 39, 39, 1);
            line-height: 1.25rem;
            text-align: center;

        }
    </style>
</head>

<body>
    <div class="vueApp" v-cloak>
        <div class="mine_bg">
            <header>
                <div class="public_header">
                    <div class="public_header_left" tapmode onclick="fnBack()">
                        <img src="../../image/index/back_white.png" alt="">
                    </div>
                    <div class="public_header_text">我的积分</div>
                    <div class="public_header_right"></div>
                </div>
                <div class="mine_integral_title" tapmode @click="fnOpenPublicWin('积分明细','mine/mine_integral_list')">
                    <p>3518</p>
                    <span>积分明细</span>
                    <img src="../../image/mine/white_arrow.png" alt="">
                </div>
            </header>
            <div class="mine_info" tapmode  @click="fnOpenPublicWin('积分兑换福利','mine/mine_integral_exchange')">
                <img class="mine_head_portrait" src="../../image/mine/gift_icon.png" alt="">
                <span class="mine_nickname overflow_hidden_one">积分兑换福利</span>
                <img class="mine_info_right" src="../../image/mine/black_arrow.png" alt="">
            </div>
        </div>
        <div class="mine_integral">
            <div class="mine_integral_list">
                <div class="mine_integral_list_title">积分规则</div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>注册</h3>
                        <p>1分/注册用户</p>
                        <div class="speed_progress"><span style="width:100%;"></span></div>
                        <span style="line-height:1.5rem;">已获得1分/上限1分</span>
                    </div>
                    <div class="integral_btn">
                        已完成
                    </div>
                </div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>学生信息</h3>
                        <p>10分/完善信息</p>
                        <div class="speed_progress"><span style="width:0;"></span></div>
                        <span style="line-height:1.5rem;">已获得0分/上限10分</span>

                    </div>
                    <div class="integral_btn_not">
                        继续完成
                    </div>
                </div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>发布提问</h3>
                        <p>1分/每条提问</p>
                        <div class="speed_progress"><span style="width:40%;"></span></div>
                        <span style="line-height:1.5rem;">已获得20分/上限50分</span>

                    </div>
                    <div class="integral_btn_not">
                        继续完成
                    </div>
                </div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>发布提问</h3>
                        <p>1分/每条提问</p>
                        <div class="speed_progress"><span style="width:40%;"></span></div>
                        <span style="line-height:1.5rem;">已获得20分/上限50分</span>

                    </div>
                    <div class="integral_btn_not">
                        去完成
                    </div>
                </div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>发布提问</h3>
                        <p>1分/每条提问</p>
                        <div class="speed_progress"><span style="width:40%;"></span></div>
                        <span style="line-height:1.5rem;">已获得20分/上限50分</span>

                    </div>
                    <div class="integral_btn_not">
                        去完成
                    </div>
                </div>
                <div class="mine_integral_item">
                    <div class="mine_integral_item_left">
                        <h3>发布提问</h3>
                        <p>1分/每条提问</p>
                        <div class="speed_progress"><span style="width:40%;"></span></div>
                        <span style="line-height:1.5rem;">已获得20分/上限50分</span>

                    </div>
                    <div class="integral_btn_not">
                        去完成
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/vue.min.js"></script>
<script type="text/javascript" src="../../script/service/service-app.js"></script>
<script type="text/javascript" src="../../script/service/service-tool.js"></script>
<script type="text/javascript" src="../../script/service/service-user.js"></script>
<script type="text/javascript" src="../../script/service/service-login.js"></script>
<script type="text/javascript" src="../../script/service/service-verify.js"></script>
<script type="text/javascript">
    var USER;
    var $S;
    var vm;
    apiready = function() {
        USER = USER();
        $S = SERVICE();
        fnInit();
        fnInitPage();
        api.addEventListener({
            name: 'loginStatus'
        }, function(ret, err) {
            vm.custId = USER.Get("custId", true) || "";
            fnInitPage();
        });
    }

    function fnInit() {
        vm = new Vue({
            el: ".vueApp",
            data: {
                custId: USER.Get("custId", true) || "",
                userInfo: "",
            }
        })
    }

    function fnInitPage() {
        if (fnCheckIsOpenLogin()) {
            $S.ShowProgress();
            $S.POST("apiTbAppUser/findUserBasic", "", function(ret, err) {
                if (ret && ret.status == '200') {
                    vm.userInfo = ret.data;
                    fnWhenLoginSucess(ret.data);
                }
                $S.CloseProgress();
            })
        }
    }

    function fnBack() {
        fnDelayCloseWin(0);
    }
</script>

</html>
